

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.2. Propagator Settings: Basics &mdash; TU Delft Astrodynamic Toolbox  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="TU Delft Astrodynamic Toolbox  documentation" href="../../../index.html"/>
        <link rel="up" title="3. Simulator Set-Up" href="index.html"/>
        <link rel="next" title="3.3. Propagator Settings: Dependent Variables" href="propagatorSettingsDependentVariables.html"/>
        <link rel="prev" title="3.1. Integrator Settings" href="integratorSettings.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> TU Delft Astrodynamic Toolbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Start Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials and Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../applicationWalkthroughs/index.html">Application Tutorials</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Tudat Libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../environmentSetup/index.html">1. Environment Set-up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../accelerationSetup/index.html">2. Setting up State Derivative Models</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">3. Simulator Set-Up</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="integratorSettings.html">3.1. Integrator Settings</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">3.2. Propagator Settings: Basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettingsDependentVariables.html">3.3. Propagator Settings: Dependent Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettingsTermination.html">3.4. Propagator Settings: Termination Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettingsCoordinates.html">3.5. Propagator Settings: Conventional vs. Propagated Coordinates</a></li>
<li class="toctree-l4"><a class="reference internal" href="simulatorCreation.html">3.6. Performing State Propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="variationalSimulatorCreation.html">3.7. Performing Variational Equations Propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="TimeStateTemplates.html">3.8. Time and State Templates</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../estimationSetup/index.html">4. Estimation Set-Up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../astroTools/index.html">5. Basic Astrodynamics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lowThrustTrajectoryDesign/index.html">6. Low-Thrust Trajectory Design Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mathTools/index.html">7. Basic Mathematics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../otherLibraries/index.html">8. Other Libraries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../basics/index.html">Tudat Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonInterface/index.html">JSON Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matlabInterface/index.html">MATLAB Interface</a></li>
<li class="toctree-l2"><a class="reference external" href="http://doxygen.tudat.tudelft.nl">Doxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developerGuide/index.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TU Delft Astrodynamic Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Tutorials and Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">Tudat Libraries</a> &raquo;</li>
        
          <li><a href="index.html">3. Simulator Set-Up</a> &raquo;</li>
        
      <li>3.2. Propagator Settings: Basics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/tutorials/tudatFeatures/propagationSetup/propagatorSettings.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="propagator-settings-basics">
<span id="tudatfeaturespropagatorsettings"></span><h1>3.2. Propagator Settings: Basics<a class="headerlink" href="#propagator-settings-basics" title="Permalink to this headline">¶</a></h1>
<p>This page presents an overview of the available options within <a class="reference internal" href="#PropagatorSettings" title="PropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagatorSettings</span></code></a>. As the name suggests, these settings define how the orbit is propagated within the <a class="reference internal" href="simulatorCreation.html#DynamicsSimulator" title="DynamicsSimulator"><code class="xref py py-class docutils literal"><span class="pre">DynamicsSimulator</span></code></a>.</p>
<p>Similarly to the <a class="reference internal" href="integratorSettings.html#IntegratorSettings" title="IntegratorSettings"><code class="xref py py-class docutils literal"><span class="pre">IntegratorSettings</span></code></a> discussed in <a class="reference internal" href="integratorSettings.html#tudatfeaturesintegratorsettings"><span class="std std-ref">Integrator Settings</span></a>, various derived classes are used to implement different settings:</p>
<dl class="class">
<dt id="PropagatorSettings">
<em class="property">class </em><code class="descname">PropagatorSettings</code><a class="headerlink" href="#PropagatorSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class from which the other settings classes described below are derived.</p>
</dd></dl>

<div class="section" id="single-arc-propagation">
<h2>3.2.1. Single-arc Propagation<a class="headerlink" href="#single-arc-propagation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="SingleArcPropagatorSettings">
<em class="property">class </em><code class="descname">SingleArcPropagatorSettings</code><a class="headerlink" href="#SingleArcPropagatorSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Derived class of <a class="reference internal" href="#PropagatorSettings" title="PropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagatorSettings</span></code></a>. Base class from which the other single-arc settings classes described below are derived. Settings object for a specific type (e.g. translational, rotational, etc.) are always derived from this class. This class (or in essence one of its derived classes) is used as input to the <code class="docutils literal"><span class="pre">SingleArcDynamicsSimulator</span></code>. A list of single-arc settings can be passed to a <code class="docutils literal"><span class="pre">MultiArcPropagatorSettings</span></code> to perform multi-arc propagation (see below).</p>
</dd></dl>

<dl class="class">
<dt id="TranslationalStatePropagatorSettings">
<em class="property">class </em><code class="descname">TranslationalStatePropagatorSettings</code><a class="headerlink" href="#TranslationalStatePropagatorSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>This class implements the framework required to propagate the translation state of a body. The constructor of this derived class is overloaded allowing two types of termination conditions:</p>
<ul class="simple">
<li>Termination when the simulation time reaches a predefined <code class="docutils literal"><span class="pre">endTime</span></code> (Default).</li>
<li>Termination when a predefined dependent variables meets a certain criterion.</li>
</ul>
<dl class="method">
<dt>
<code class="descname">Using default termination settings</code></dt>
<dd><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">TranslationalStatePropagatorSettings</span><span class="o">&lt;</span><span class="n">StateScalarType</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">centralBodies</span><span class="p">,</span>
                                                       <span class="n">accelerationsMap</span><span class="p">,</span>
                                                       <span class="n">bodiesToIntegrate</span><span class="p">,</span>
                                                       <span class="n">initialBodyStates</span><span class="p">,</span>
                                                       <span class="n">endTime</span><span class="p">,</span>
                                                       <span class="n">propagator</span><span class="p">,</span>
                                                       <span class="n">dependentVariablesToSave</span> <span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">StateScalarType</span></code></p>
<blockquote>
<div><p>Template argument used to set the precision of the state, in general <code class="docutils literal"><span class="pre">double</span></code> is used. For some application where a high precision is required this can be changed to e.g. <code class="docutils literal"><span class="pre">long</span> <span class="pre">double</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">centralBodies</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">std::string</span> <span class="pre">&gt;</span></code> that contains the names of the central bodies and must match with those in the <code class="xref py py-class docutils literal"><span class="pre">BodyMap</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">accelerationsMap</span></code></p>
<blockquote>
<div><p><code class="xref py py-class docutils literal"><span class="pre">AccelerationMap</span></code> that contains the accelerations for each body as discussed in <a class="reference internal" href="../accelerationSetup/index.html#tudatfeaturesaccelerationindex"><span class="std std-ref">Setting up State Derivative Models</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">bodiesToIntegrate</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">std::string</span> <span class="pre">&gt;</span></code> that contains the names of the bodies to integrate which must match with those in the <code class="xref py py-class docutils literal"><span class="pre">BodyMap</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">initialBodyStates</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Eigen::Matrix&lt;</span> <span class="pre">StateScalarType,</span> <span class="pre">Eigen::Dynamic,</span> <span class="pre">1</span> <span class="pre">&gt;</span></code> that stores the states of the bodies to propagate with respect to their central bodies.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The state variables contained in <code class="docutils literal"><span class="pre">initialBodyStates</span></code> are ordered with respect to the elements of <code class="docutils literal"><span class="pre">centralBodies</span></code> and <code class="docutils literal"><span class="pre">bodiesToIntegrate</span></code>. Please take a look at the following pseudocode:</p>
<div class="last highlight-cpp"><div class="highlight"><pre><span></span><span class="n">centralBodies</span> <span class="o">=</span> <span class="p">{</span> <span class="n">Sun</span> <span class="p">,</span> <span class="n">Earth</span> <span class="p">,</span> <span class="n">Moon</span> <span class="p">}</span>
<span class="n">bodiesToIntegrate</span> <span class="o">=</span> <span class="p">{</span> <span class="n">Earth</span> <span class="p">,</span> <span class="n">Moon</span> <span class="p">}</span>
<span class="n">initialBodyStates</span> <span class="o">=</span> <span class="p">{</span> <span class="n">xEarthWrtSun</span> <span class="p">,</span> <span class="n">yEarthWrtSun</span> <span class="p">,</span> <span class="n">zEarthWrtSun</span> <span class="p">,</span> <span class="n">uEarthWrtSun</span> <span class="p">,</span> <span class="n">vEarthWrtSun</span> <span class="p">,</span> <span class="n">wEarthWrtSun</span> <span class="p">,</span>
                  <span class="n">xMoonWrtEarth</span> <span class="p">,</span> <span class="n">yMoonWrtEarth</span> <span class="p">,</span> <span class="n">zMoonWrtEarth</span> <span class="p">,</span> <span class="n">uMoonWrtEarth</span> <span class="p">,</span> <span class="n">vMoonWrtEarth</span> <span class="p">,</span> <span class="n">wMoonWrtEarth</span> <span class="p">}</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">endTime</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">double</span></code> that defines the end-time of the simulation.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">propagator</span></code></p>
<blockquote>
<div><p><code class="xref py py-class docutils literal"><span class="pre">TranslationalPropagatorType</span></code> which defines the type of propagator to be used. Currently, the following propagators are supported:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">cowell</span></code></li>
<li><code class="docutils literal"><span class="pre">encke</span></code></li>
<li><code class="docutils literal"><span class="pre">gauss_keplerian</span></code></li>
<li><code class="docutils literal"><span class="pre">gauss_modified_equinoctial</span></code></li>
<li><code class="docutils literal"><span class="pre">unified_state_model_quaternions</span></code></li>
<li><code class="docutils literal"><span class="pre">unified_state_model_modified_rodrigues_parameters</span></code></li>
<li><code class="docutils literal"><span class="pre">unified_state_model_exponential_map</span></code></li>
</ul>
</div></blockquote>
<p>By default, the <code class="docutils literal"><span class="pre">cowell</span></code> propagator is used. Moreover, you should keep in mind that this option only changes the coordinates for propagation, but the acceleration model is still computed with Cartesian coordinates, i.e., the conventional coordinates.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can find more information about the difference between <em>conventional</em> and <em>propagated</em> coordinates in <a class="reference internal" href="propagatorSettingsCoordinates.html#tudatfeaturespropagatorsettingscoordinates"><span class="std std-ref">Propagator Settings: Conventional vs. Propagated Coordinates</span></a>.</p>
</div>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">dependentVariablesToSave</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::shared_ptr&lt;</span> <span class="pre">DependentVariableSaveSettings</span> <span class="pre">&gt;</span></code> that presents a list of the dependent variables to save during propagation. How this is exactly done is explained below. By default, an empty list is used and no dependent variable is saved. See the tutorial on <a class="reference internal" href="propagatorSettingsDependentVariables.html#DependentVariableSaveSettings" title="DependentVariableSaveSettings"><code class="xref py py-class docutils literal"><span class="pre">DependentVariableSaveSettings</span></code></a> for more details on this class. Note that the <code class="docutils literal"><span class="pre">dependentVariablesToSave</span></code> may be left unspecified, in which case no dependent variables are saved, so:</p>
</div></blockquote>
</li>
</ul>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">TranslationalStatePropagatorSettings</span><span class="o">&lt;</span><span class="n">StateScalarType</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">centralBodies</span><span class="p">,</span>
                                                       <span class="n">accelerationsMap</span><span class="p">,</span>
                                                       <span class="n">bodiesToIntegrate</span><span class="p">,</span>
                                                       <span class="n">initialBodyStates</span><span class="p">,</span>
                                                       <span class="n">endTime</span><span class="p">,</span>
                                                       <span class="n">propagator</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">With user-defined termination settings</code></dt>
<dd><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">TranslationalStatePropagatorSettings</span><span class="o">&lt;</span><span class="n">StateScalarType</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">centralBodies</span><span class="p">,</span>
                                                       <span class="n">accelerationsMap</span><span class="p">,</span>
                                                       <span class="n">bodiesToIntegrate</span><span class="p">,</span>
                                                       <span class="n">initialBodyStates</span><span class="p">,</span>
                                                       <span class="n">terminationSettings</span><span class="p">,</span>
                                                       <span class="n">propagator</span><span class="p">,</span>
                                                       <span class="n">dependentVariablesToSave</span> <span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">terminationSettings</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::shared_ptr&lt;</span> <span class="pre">PropagationTerminationSettings</span> <span class="pre">&gt;</span></code> that defines the termination settings of the propagation. This is the fifth argument and replaces the <code class="docutils literal"><span class="pre">endTime</span></code> in the default constructor. See the tutorial on <a class="reference internal" href="propagatorSettingsTermination.html#PropagationTerminationSettings" title="PropagationTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationTerminationSettings</span></code></a> for more details on this class.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="RotationalStatePropagatorSettings">
<em class="property">class </em><code class="descname">RotationalStatePropagatorSettings</code><a class="headerlink" href="#RotationalStatePropagatorSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>This class implements the framework required to propagate the rotational dynamics of a body. The settings are constructed as follows:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">RotationalStatePropagatorSettings</span><span class="o">&lt;</span> <span class="n">StateScalarType</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">torqueModelMap</span><span class="p">,</span>
                                                      <span class="n">bodiesToIntegrate</span><span class="p">,</span>
                                                      <span class="n">initialBodyStates</span><span class="p">,</span>
                                                      <span class="n">terminationSettings</span><span class="p">,</span>
                                                      <span class="n">propagator</span><span class="p">,</span>
                                                      <span class="n">dependentVariablesToSave</span> <span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">torqueModelMap</span></code></p>
<blockquote>
<div><p><code class="xref py py-class docutils literal"><span class="pre">TorqueModelMap</span></code> List of torque models that are to be used in propagation.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">bodiesToIntegrate</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">std::string</span> <span class="pre">&gt;</span></code> that contains the names of the bodies to integrate which must match with those in the <code class="xref py py-class docutils literal"><span class="pre">BodyMap</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">initialBodyStates</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Eigen::Matrix&lt;</span> <span class="pre">StateScalarType,</span> <span class="pre">Eigen::Dynamic,</span> <span class="pre">1</span> <span class="pre">&gt;</span></code> that stores the states of the bodies to propagate with respect to their central bodies.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">terminationSettings</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::shared_ptr&lt;</span> <span class="pre">PropagationTerminationSettings</span> <span class="pre">&gt;</span></code> that defines the termination settings of the propagation. See the tutorial on <a class="reference internal" href="propagatorSettingsTermination.html#PropagationTerminationSettings" title="PropagationTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationTerminationSettings</span></code></a> for more details on this class.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">propagator</span></code></p>
<blockquote>
<div><p><code class="xref py py-class docutils literal"><span class="pre">RotationalPropagatorType</span></code> which defines the type of propagator to be used. Currently, the following propagators are supported:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">quaternions</span></code></li>
<li><code class="docutils literal"><span class="pre">modified_rodrigues_parameters</span></code></li>
<li><code class="docutils literal"><span class="pre">exponential_map</span></code></li>
</ul>
</div></blockquote>
<p>By default, the <code class="docutils literal"><span class="pre">quaternions</span></code> propagator is used. Moreover, you should keep in mind that this option only changes the coordinates for propagation, but the acceleration model is still computed with quaternions, i.e., the conventional coordinates.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can find more information about the difference between <em>conventional</em> and <em>propagated</em> coordinates in <a class="reference internal" href="propagatorSettingsCoordinates.html#tudatfeaturespropagatorsettingscoordinates"><span class="std std-ref">Propagator Settings: Conventional vs. Propagated Coordinates</span></a>.</p>
</div>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">dependentVariablesToSave</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::shared_ptr&lt;</span> <span class="pre">DependentVariableSaveSettings</span> <span class="pre">&gt;</span></code> that presents a list of the dependent variables to save during propagation. How this is exactly done is explained below. By default, an empty list is used and no dependent variable is saved. See the tutorial on <a class="reference internal" href="propagatorSettingsDependentVariables.html#DependentVariableSaveSettings" title="DependentVariableSaveSettings"><code class="xref py py-class docutils literal"><span class="pre">DependentVariableSaveSettings</span></code></a> for more details on this class.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="MassPropagationSettings">
<em class="property">class </em><code class="descname">MassPropagationSettings</code><a class="headerlink" href="#MassPropagationSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>This class implements the framework required to propagate the mass of a body. The constructor of this derived class is overloaded allowing either a single mass-rate per body or multiple mass-rates per body:</p>
<dl class="method">
<dt>
<code class="descname">Single mass-rate model per body</code></dt>
<dd><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">MassPropagationSettings</span><span class="o">&lt;</span> <span class="n">StateScalarType</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">bodiesWithMassToPropagate</span><span class="p">,</span>
                                            <span class="n">massRateModels</span><span class="p">,</span>
                                            <span class="n">initialBodyMasses</span><span class="p">,</span>
                                            <span class="n">terminationSettings</span><span class="p">,</span>
                                            <span class="n">dependentVariablesToSave</span> <span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">bodiesWithMassToPropagate</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">std::string</span> <span class="pre">&gt;</span></code> that provides the names of the bodies with mass that must be propagated. These names must match with those in the <code class="xref py py-class docutils literal"><span class="pre">BodyMap</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">massRateModels</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::map&lt;</span> <span class="pre">std::string,</span> <span class="pre">std::shared_ptr&lt;</span> <span class="pre">MassRateModel</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code> that associates a <code class="xref py py-class docutils literal"><span class="pre">MassRateModel</span></code> to every body with mass that needs to be propagated.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">initialBodyMasses</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Eigen::Matrix&lt;</span> <span class="pre">StateScalarType,</span> <span class="pre">Eigen::Dynamic,</span> <span class="pre">1</span> <span class="pre">&gt;</span></code> passed by reference that associates an initial body mass to each body with mass to be propagated.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">terminationSettings</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::shared_ptr&lt;</span> <span class="pre">PropagationTerminationSettings</span> <span class="pre">&gt;</span></code> that defines the termination settings of the propagation. See the tutorial on <a class="reference internal" href="propagatorSettingsTermination.html#PropagationTerminationSettings" title="PropagationTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationTerminationSettings</span></code></a> for more details on this class.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">dependentVariablesToSave</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::shared_ptr&lt;</span> <span class="pre">DependentVariableSaveSettings</span> <span class="pre">&gt;</span></code> that presents a list of the dependent variables to save during propagation. How this is exactly done is explained below. By default, an empty list is used and no dependent variable is saved. See the tutorial on <a class="reference internal" href="propagatorSettingsDependentVariables.html#DependentVariableSaveSettings" title="DependentVariableSaveSettings"><code class="xref py py-class docutils literal"><span class="pre">DependentVariableSaveSettings</span></code></a> for more details on this class.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">Various mass-rate models per body</code></dt>
<dd><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">MassPropagationSettings</span><span class="o">&lt;</span> <span class="n">StateScalarType</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">bodiesWithMassToPropagate</span><span class="p">,</span>
                                            <span class="n">massRateModels</span><span class="p">,</span>
                                            <span class="n">initialBodyMasses</span><span class="p">,</span>
                                            <span class="n">terminationSettings</span><span class="p">,</span>
                                            <span class="n">dependentVariablesToSave</span> <span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">massRateModels</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::map&lt;</span> <span class="pre">std::string,</span> <span class="pre">std::vector&lt;</span> <span class="pre">std::shared_ptr&lt;</span> <span class="pre">MassRateModel</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code> that associates a <code class="xref py py-class docutils literal"><span class="pre">std::vector</span></code> of <code class="xref py py-class docutils literal"><span class="pre">MassRateModel</span></code> to each body with mass to be propagated.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="CustomStatePropagatorSettings">
<em class="property">class </em><code class="descname">CustomStatePropagatorSettings</code><a class="headerlink" href="#CustomStatePropagatorSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>This class allows the user to define and propagate its own state derivative function. The constructor of this derived class is overloaded allowing the user to either use a scalar state or vector state:</p>
<dl class="method">
<dt>
<code class="descname">Using a scalar state</code></dt>
<dd><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">CustomStatePropagatorSettings</span><span class="o">&lt;</span> <span class="n">StateScalarType</span><span class="p">,</span> <span class="n">TimeType</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">stateDerivativeFunction</span><span class="p">,</span>
                                                            <span class="n">initialState</span><span class="p">,</span>
                                                            <span class="n">terminationSettings</span><span class="p">,</span>
                                                            <span class="n">dependentVariablesToSave</span> <span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">TimeType</span></code></p>
<blockquote>
<div><p>Template argument used to set the precision of the time, in general <code class="docutils literal"><span class="pre">double</span></code> is used. For some application where a high precision is required this can be changed to e.g. :literal`long double`.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">stateDerivativeFunction</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::function&lt;</span> <span class="pre">StateScalarType(</span> <span class="pre">const</span> <span class="pre">TimeType</span> <span class="pre">,</span> <span class="pre">const</span> <span class="pre">StateScalarType</span> <span class="pre">)</span> <span class="pre">&gt;</span></code> that must comply with the requirements discussed in <a class="reference internal" href="../mathTools/integrators.html#tudatfeaturesintegrators"><span class="std std-ref">Integrators</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">initialState</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">StateScalarType</span></code> that stores the initial state.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">Using a vector state</code></dt>
<dd><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">CustomStatePropagatorSettings</span><span class="o">&lt;</span> <span class="n">StateScalarType</span><span class="p">,</span> <span class="n">TimeType</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">stateDerivativeFunction</span><span class="p">,</span>
                                                            <span class="n">initialState</span><span class="p">,</span>
                                                            <span class="n">terminationSettings</span><span class="p">,</span>
                                                            <span class="n">dependentVariablesToSave</span> <span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">stateDerivativeFunction</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::function&lt;</span> <span class="pre">Eigen::VectorXd(</span> <span class="pre">const</span> <span class="pre">double</span> <span class="pre">,</span> <span class="pre">const</span> <span class="pre">Eigen::VectorXd</span> <span class="pre">)</span> <span class="pre">&gt;</span></code> that must comply with the requirements discussed in <a class="reference internal" href="../mathTools/integrators.html#tudatfeaturesintegrators"><span class="std std-ref">Integrators</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">initialState</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Eigen::VectorXd</span></code> that stores the initial state.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="MultiTypePropagatorSettings">
<em class="property">class </em><code class="descname">MultiTypePropagatorSettings</code><a class="headerlink" href="#MultiTypePropagatorSettings" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This class is used to propagate multiple types of <a class="reference internal" href="#PropagatorSettings" title="PropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagatorSettings</span></code></a> concurrently, for instance a translational-rotational dynamics, translational and mass dynamics (spacecraft under thrust) <em>etc</em>. Note that the types of dynamics need not apply to the same body, you may for instance propagate the translational state and mass of a spacecraft concurrently with the rotational state of the Earth.
The constructor of this class is overloaded depending on how the list of propagator settings is passed (with the former being typical)      :</p>
<dl class="method">
<dt>
<code class="descname">Using an std::vector</code></dt>
<dd><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">MultiTypePropagatorSettings</span><span class="o">&lt;</span> <span class="n">StateScalarType</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">propagatorSettingsMap</span><span class="p">,</span>
                                               <span class="n">terminationSettings</span><span class="p">,</span>
                                               <span class="n">dependentVariablesToSave</span> <span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">propagatorSettingsMap</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">std::shared_ptr&lt;</span> <span class="pre">PropagatorSettings&lt;</span> <span class="pre">StateScalarType</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code> where each element contains a pointer to a <a class="reference internal" href="#PropagatorSettings" title="PropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagatorSettings</span></code></a> class. This class is the simplest to use, since it allows to pass a set of unsorted <a class="reference internal" href="#PropagatorSettings" title="PropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagatorSettings</span></code></a> derived classes by means of the <code class="docutils literal"><span class="pre">push_back</span></code> method of <code class="docutils literal"><span class="pre">std::vector</span></code>.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">Using an std::map</code></dt>
<dd><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">MultiTypePropagatorSettings</span><span class="o">&lt;</span> <span class="n">StateScalarType</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">propagatorSettingsMap</span><span class="p">,</span>
                                                <span class="n">terminationSettings</span><span class="p">,</span>
                                                <span class="n">dependentVariablesToSave</span> <span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">propagatorSettingsMap</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::map&lt;</span> <span class="pre">IntegratedStateType,</span> <span class="pre">std::vector&lt;</span> <span class="pre">std::shared_ptr&lt;</span> <span class="pre">PropagatorSettings&lt;</span> <span class="pre">StateScalarType</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code> where each element contains a pointer to a <a class="reference internal" href="#PropagatorSettings" title="PropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagatorSettings</span></code></a> class. This class requires a sorted list <a class="reference internal" href="#PropagatorSettings" title="PropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagatorSettings</span></code></a> derived classes.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

</div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When using the <a class="reference internal" href="#MultiTypePropagatorSettings" title="MultiTypePropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">MultiTypePropagatorSettings</span></code></a> derived class note that the <code class="docutils literal"><span class="pre">dependentVariablesToSave</span></code> need to be passed in this constructor and not inside the <code class="docutils literal"><span class="pre">propagatorSettingsMap</span></code> since these will be ignored. The same applies to the termination settings. They have to be defined in this constructor, as those provided inside the <code class="docutils literal"><span class="pre">propagatorSettingsMap</span></code> are disregarded as well.</p>
</div>
</dd></dl>

</div>
<div class="section" id="multi-and-hybrid-arc-propagation">
<h2>3.2.2. Multi- and Hybrid-arc Propagation<a class="headerlink" href="#multi-and-hybrid-arc-propagation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="MultiArcPropagatorSettings">
<em class="property">class </em><code class="descname">MultiArcPropagatorSettings</code><a class="headerlink" href="#MultiArcPropagatorSettings" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>This class is meant to be used together with a <a class="reference internal" href="simulatorCreation.html#MultiArcDynamicsSimulator" title="MultiArcDynamicsSimulator"><code class="xref py py-class docutils literal"><span class="pre">MultiArcDynamicsSimulator</span></code></a>. This allows the numerical propagation to be performed in an arc-wise manner. Dynamical model settings may be defined differently per arc.</div></blockquote>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">MultiArcPropagatorSettings</span><span class="o">&lt;</span> <span class="n">StateScalarType</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">singleArcSettings</span><span class="p">,</span>
                                               <span class="n">transferInitialStateInformationPerArc</span><span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">singleArcSettings</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">std::shared_ptr&lt;</span> <span class="pre">SingleArcPropagatorSettings&lt;</span> <span class="pre">StateScalarType</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code> defines the settings for the constituent arcs. The switch times for the arcs are defined by the initial times for each of the arcs.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">transferInitialStateInformationPerArc</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">bool</span></code> If set to true (default is false), only a single initial state is used: that for the first arc. When this variable is true, the initial state for arc 2 is taken by interpolating the arc 1 state results at the arc 2 start time. This allows a continuous state to be set, while still using the multi-arc interface (for instance for a first estimate when doing multi-arc propagation). If set to false, the initial states from each entry of the <code class="docutils literal"><span class="pre">singleArcSettings</span></code> vector will be used.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="HybridArcPropagatorSettings">
<em class="property">class </em><code class="descname">HybridArcPropagatorSettings</code><a class="headerlink" href="#HybridArcPropagatorSettings" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>This class is meant to be used together with a <a class="reference internal" href="simulatorCreation.html#HybridArcDynamicsSimulator" title="HybridArcDynamicsSimulator"><code class="xref py py-class docutils literal"><span class="pre">HybridArcDynamicsSimulator</span></code></a> (see this class description for more details on model implementation). This allows the numerical propagation to be performed, with any number of states propagated in a single arc, and any other states propagated in a multi-arc state. The results of the single-arc propagation are automatically used for the subsequent multi-arc propagation. A typical application is the propagation of a planetary orbiter (multi-arc) and the planet it is orbiting (single-arc).</div></blockquote>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">HybridArcPropagatorSettings</span><span class="o">&lt;</span> <span class="n">StateScalarType</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">singleArcPropagatorSettings</span><span class="p">,</span> <span class="n">multiArcPropagatorSettings</span> <span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">singleArcPropagatorSettings</span></code></p>
<blockquote>
<div><p><a class="reference internal" href="#SingleArcPropagatorSettings" title="SingleArcPropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">SingleArcPropagatorSettings</span></code></a> Settings to be used for the single-arc propagation.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">multiArcPropagatorSettings</span></code></p>
<blockquote>
<div><p><a class="reference internal" href="#MultiArcPropagatorSettings" title="MultiArcPropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">MultiArcPropagatorSettings</span></code></a> Settings to be used for the multi-arc propagation.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Please beware that all the classes belonging to Tudat libraries are declared above without their namespace. To get the code working please make use of the appropriate <code class="docutils literal"><span class="pre">#include</span></code> and <code class="docutils literal"><span class="pre">using</span></code> statements.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="propagatorSettingsDependentVariables.html" class="btn btn-neutral float-right" title="3.3. Propagator Settings: Dependent Variables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="integratorSettings.html" class="btn btn-neutral" title="3.1. Integrator Settings" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Delft University of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header .arrow").click(function() {
            $(this).closest('.toggle').children().not(".header").toggle(400);
            $(this).toggleClass("open");
            // $(this).html() == "More" ? $(this).html('Less') : $(this).html('More');
        });
        $(".showall").click(function() {
            $(".toggle > *").show(400);
            $(".toggle .header .arrow").addClass("open");
        });
        $(".hideall").click(function() {
            $(".toggle > *").hide(400);
            $(".toggle .header").show(400);
            $(".toggle .header .arrow").removeClass("open");
        });
    });
</script>


</body>
</html>